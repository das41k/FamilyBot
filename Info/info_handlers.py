from telebot import types
from BOT.keyboards import *

def register_info_handlers(bot):

    @bot.message_handler(func=lambda msg: msg.text == "‚Ü©Ô∏è –ù–∞–∑–∞–¥")
    def handle_back_to_main(message):
        print("[DEBUG] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∞–ª –ù–∞–∑–∞–¥ –≤ —Ä–∞–∑–¥–µ–ª–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏")
        bot.send_message(
            message.chat.id,
            "üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é",
            reply_markup=create_main_keyboard()
        )

    @bot.message_handler(func=lambda msg: msg.text == "‚ÑπÔ∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è")
    def handle_info_menu(message):
        print(f"[DEBUG] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å {message.from_user.id} –æ—Ç–∫—Ä—ã–ª –º–µ–Ω—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏")
        bot.send_message(
            message.chat.id,
            "‚ÑπÔ∏è <b>–†–∞–∑–¥–µ–ª –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏</b>\n\n–í—ã–±–µ—Ä–∏—Ç–µ, —á—Ç–æ –≤–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç:",
            reply_markup=create_info_keyboard(),
            parse_mode='HTML'
        )

    @bot.callback_query_handler(func=lambda call: call.data.startswith('info_'))
    def handle_info_callback(call):
        chat_id = call.message.chat.id
        try:
            if call.data == 'info_about_bot':
                text = (
                    "ü§ñ <b>–û –±–æ—Ç–µ</b>\n\n"
                    "–≠—Ç–æ—Ç –±–æ—Ç –ø–æ–º–æ–∂–µ—Ç –≤–∞–º:\n"
                    "üîπ –í–µ—Å—Ç–∏ —É—á—ë—Ç –¥–æ—Ö–æ–¥–æ–≤ –∏ —Ä–∞—Å—Ö–æ–¥–æ–≤\n"
                    "üîπ –ü–æ–ª—É—á–∞—Ç—å –¥–µ—Ç–∞–ª—å–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É\n"
                    "üîπ –°–æ–≤–º–µ—Å—Ç–Ω–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å —Å–µ–º–µ–π–Ω—ã–π –±—é–¥–∂–µ—Ç\n"
                    "üîπ –°–ª–µ–¥–∏—Ç—å –∑–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–º–∏ —Ü–µ–ª—è–º–∏ –∏ –ø–ª–∞–Ω–∞–º–∏\n\n"
                    "<b>–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏:</b>\n"
                    "–°—Ç—É–¥–µ–Ω—Ç—ã –û—Ä–µ–Ω–±—É—Ä–≥—Å–∫–æ–≥–æ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞\n"
                    "‚ûñ –ë–∞—Ä—Å—É–∫–æ–≤ –ú. –í.\n"
                    "‚ûñ –õ—ã—Å–µ–Ω–∫–æ –ê. –í.\n"
                    "‚ûñ –ú–µ–Ω–¥—ã–≥–∞–ª–∏–µ–≤ –î. –°.\n"
                    "‚ûñ –ü–µ—Ç—Ä–æ—Å—è–Ω –ê. –ê.\n"
                    "‚ûñ –°—É—Ö–æ–≤–µ–µ–≤ –ê. –í.\n"
                    "‚ûñ –¢–∞–∫–º—É—Ä–∑–∏–Ω –ú. –ë.\n\n"
                    "<b>–†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª–∏:</b>\n"
                    "‚ûñ –°–ø–µ—à–∏–ª–æ–≤–∞ –ù. –í.\n\n"
                    "‚ûñ –ò–Ω–µ–≤–∞—Ç–æ–≤–∞ –û. –ê.\n\n"
                    "üí° –ë—É–¥—å—Ç–µ –≤ –∫—É—Ä—Å–µ —Å–≤–æ–∏—Ö —Ñ–∏–Ω–∞–Ω—Å–æ–≤! üí∞"
                )
            elif call.data == 'info_help':
                text = (
                    "üìñ <b>–ò–ù–°–¢–†–£–ö–¶–ò–Ø –ü–û –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ –ë–û–¢–ê</b>\n\n"
                    "<b>–ì–õ–ê–í–ù–û–ï –ú–ï–ù–Æ (–æ—Å–Ω–æ–≤–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã):</b>\n"
                    "‚îî‚îÄ‚îÄ üë®üë©üëßüë¶ <i>–°–µ–º—å—è</i> - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ–º–µ–π–Ω–æ–π –≥—Ä—É–ø–ø–æ–π\n"
                    "‚îî‚îÄ‚îÄ üí∞ <i>–£—á–µ—Ç —Ñ–∏–Ω–∞–Ω—Å–æ–≤</i> - –≤–Ω–µ—Å–µ–Ω–∏–µ –¥–æ—Ö–æ–¥–æ–≤/—Ä–∞—Å—Ö–æ–¥–æ–≤\n"
                    "‚îî‚îÄ‚îÄ üìä <i>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</i> - –ø—Ä–æ—Å–º–æ—Ç—Ä –∞–Ω–∞–ª–∏—Ç–∏–∫–∏\n"
                    "‚îî‚îÄ‚îÄ üßÆ <i>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Ñ–∏–Ω–∞–Ω—Å–æ–≤</i> - —Ä–∞—Å—á–µ—Ç—ã\n"
                    "‚îî‚îÄ‚îÄ ‚ÑπÔ∏è <i>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</i> - —Å–ø—Ä–∞–≤–∫–∞ –∏ –ø–æ–º–æ—â—å\n\n"
                    "<b>–†–ê–ó–î–ï–õ \"–°–ï–ú–¨–Ø\":</b>\n"
                    "‚Ä¢ <u>–î–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:</u>\n"
                    "  ‚îî‚îÄ‚îÄ ‚ûï <i>–°–æ–∑–¥–∞—Ç—å</i> - —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é —Å–µ–º–µ–π–Ω—É—é –≥—Ä—É–ø–ø—É\n"
                    "  ‚îî‚îÄ‚îÄ üîó <i>–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è</i> - –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π\n\n"
                    "‚Ä¢ <u>–î–ª—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —Å–µ–º—å–∏:</u>\n"
                    "  ‚îî‚îÄ‚îÄ üë™ <i>–ú–æ—è —Å–µ–º—å—è</i> - –ø—Ä–æ—Å–º–æ—Ç—Ä —Å–æ—Å—Ç–∞–≤–∞ —Å–µ–º—å–∏\n"
                    "  ‚îî‚îÄ‚îÄ üö™ <i>–í—ã–π—Ç–∏</i> - –ø–æ–∫–∏–Ω—É—Ç—å —Å–µ–º–µ–π–Ω—É—é –≥—Ä—É–ø–ø—É\n\n"
                    "<b>–†–ê–ó–î–ï–õ \"–£–ß–ï–¢ –§–ò–ù–ê–ù–°–û–í\":</b>\n"
                    "‚Ä¢ üí∏ <i>–î–æ–±–∞–≤–∏—Ç—å —Ä–∞—Å—Ö–æ–¥</i> - –∑–∞–ø–∏—Å—å —Ç—Ä–∞—Ç\n"
                    "‚Ä¢ üí∞ <i>–î–æ–±–∞–≤–∏—Ç—å –¥–æ—Ö–æ–¥</i> - –∑–∞–ø–∏—Å—å –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏–π\n"
                    "‚Ä¢ üîÑ <i>–ü–æ—Å—Ç–æ—è–Ω–Ω—ã–π —Ä–∞—Å—Ö–æ–¥</i> - —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ —Ç—Ä–∞—Ç—ã\n"
                    "‚Ä¢ üîÑ <i>–ü–æ—Å—Ç–æ—è–Ω–Ω—ã–π –¥–æ—Ö–æ–¥</i> - —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –¥–æ—Ö–æ–¥—ã\n\n"
                    "<i>–ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏:</i>\n"
                    "1. –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–∏ (–¥–æ—Ö–æ–¥/—Ä–∞—Å—Ö–æ–¥)\n"
                    "2. –£–∫–∞–∂–∏—Ç–µ —Å—É–º–º—É\n"
                    "3. –í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é –∏–∑ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã—Ö\n"
                    "4. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–æ–±–∞–≤—å—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π\n\n"
                    "<b>–†–ê–ó–î–ï–õ \"–°–¢–ê–¢–ò–°–¢–ò–ö–ê\":</b>\n"
                    "<u>–î–æ—Å—Ç—É–ø–Ω—ã–µ –≤–∏–¥—ã –æ—Ç—á–µ—Ç–æ–≤:</u>\n"
                    "üìä <i>–û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</i> - —Å–≤–æ–¥–∫–∞ –ø–æ —Å–µ–º—å–µ\n"
                    "üìà <i>–î–∏–Ω–∞–º–∏–∫–∞ —Å–µ–º—å–∏</i> - –∏–∑–º–µ–Ω–µ–Ω–∏—è –±—é–¥–∂–µ—Ç–∞ —Å–µ–º—å–∏\n"
                    "üìâ <i>–õ–∏—á–Ω–∞—è –¥–∏–Ω–∞–º–∏–∫–∞</i> - –≤–∞—à–∏ —Ñ–∏–Ω–∞–Ω—Å—ã\n"
                    "üîÑ <i>–†–∞—Å—Ö–æ–¥—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º</i> - –∞–Ω–∞–ª–∏–∑ —Ç—Ä–∞—Ç\n\n"
                    "<u>–î–ª—è –∫–∞–∂–¥–æ–≥–æ –æ—Ç—á–µ—Ç–∞ –º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –ø–µ—Ä–∏–æ–¥:</u>\n"
                    "‚Ä¢ –ù–µ–¥–µ–ª—è\n"
                    "‚Ä¢ –ú–µ—Å—è—Ü\n"
                    "‚Ä¢ –ì–æ–¥\n"
                    "‚Ä¢ –°–≤–æ–π –ø–µ—Ä–∏–æ–¥ (—É–∫–∞–∂–∏—Ç–µ –¥–∞—Ç—ã –≤—Ä—É—á–Ω—É—é)\n\n"
                    "<b>–ò–ù–§–û–†–ú–ê–¶–ò–û–ù–ù–´–ô –†–ê–ó–î–ï–õ:</b>\n"
                    "‚Ä¢ üìå <i>–û –±–æ—Ç–µ</i> - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞—Ö\n"
                    "‚Ä¢ üìñ <i>–°–ø—Ä–∞–≤–∫–∞</i> - —ç—Ç–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è\n"
                    "‚Ä¢ üõ† <i>–ü–æ–¥–¥–µ—Ä–∂–∫–∞</i> - –∫–æ–Ω—Ç–∞–∫—Ç—ã –¥–ª—è —Å–≤—è–∑–∏\n\n"
                    "<b>–î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –í–û–ó–ú–û–ñ–ù–û–°–¢–ò:</b>\n"
                    "‚Ä¢ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π (–î–∞/–ù–µ—Ç)\n"
                    "‚Ä¢ –û—Ç–º–µ–Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏–π (‚ùå –û—Ç–º–µ–Ω–∞)\n"
                    "‚Ä¢ –í–æ–∑–≤—Ä–∞—Ç –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–µ –º–µ–Ω—é (‚Ü©Ô∏è –ù–∞–∑–∞–¥)\n\n"
                    "<i>–î–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–æ—Ç–æ–º –ø—Ä–æ—Å—Ç–æ –Ω–∞–∂–∏–º–∞–π—Ç–µ –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∫–Ω–æ–ø–∫–∏ –≤ –º–µ–Ω—é "
                    "–∏ —Å–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º —Å–∏—Å—Ç–µ–º—ã.</i>"
                )
            elif call.data == 'info_support':
                text = (
                    "üõ† <b>–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å</b>\n\n"
                    "–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã, –æ—à–∏–±–∫–∏ –∏–ª–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è ‚Äî\n"
                    "–ø–∏—à–∏—Ç–µ –Ω–∞–ø—Ä—è–º—É—é —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É: @maxim2236\n\n"
                    "–°–ø–∞—Å–∏–±–æ, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –Ω–∞—à–µ–≥–æ –±–æ—Ç–∞! ü§ù"
                )
            else:
                text = "‚ùì –ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –∑–∞–ø—Ä–æ—Å."

            bot.edit_message_text(
                chat_id=chat_id,
                message_id=call.message.message_id,
                text=text,
                parse_mode='HTML'
            )

        except Exception as e:
            bot.send_message(chat_id, f"‚ùå –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∑–∞–ø—Ä–æ—Å–∞: {str(e)}")
            print(f"Error in handle_info_callback: {e}")
